<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Нерская байкпакинговая гонка 2026</title>
    <meta name="description" content="Гравийная велогонка с самообеспечением. 110 + 70 км. Старт 25 июля 2026.">
    
    <!-- Шрифты -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@600;700;800&family=Montserrat:wght@400;600;700;800&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">

    <style>
        /* --- 1. Переменные и сброс --- */
        :root {
            /* Цветовая палитра */
            --color-bg: #FFFFFF;
            --color-text: #000000;
            --color-text-muted: #333333;
            --color-primary: #D9534F; /* Сигнальный оранжевый */
            --color-primary-hover: #C9302C;
            --color-secondary: #4A6C44; /* Лесной зеленый */
            --color-surface: #FFFFFF;
            --color-surface-glass: rgba(255, 255, 255, 0.7);
            --border-radius: 12px;
            --container-width: 1200px;
            --header-height: 70px;
            --transition: 0.3s ease;
            --section-space: 72px;
            --section-space-mobile: 56px;
            --title-space: 2.2rem;
            --interactive-dur: 0.24s;
            --interactive-ease: cubic-bezier(0.22, 1, 0.36, 1);
        }

        *, *::before, *::after {
            box-sizing: border_box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Open Sans', sans-serif;
            background-color: var(--color-bg);
            color: var(--color-text);
            line-height: 1.6;
            overflow-x: hidden;
        }

        h1, h2, h3, h4 {
            font-family: 'Open Sans', sans-serif;
            color: #000;
            margin-bottom: 1rem;
        }

        a {
            text-decoration: none;
            color: inherit;
            transition: var(--transition);
        }

        ul {
            list-style: none;
        }

        img {
            max-width: 100%;
            display: block;
        }

        /* --- 2. Общие классы и компоненты UI --- */
        .container {
            max-width: var(--container-width);
            margin: 0 auto;
            padding: 0 20px;
        }

        .section {
            padding: var(--section-space) 0;
            background-color: #fff;
        }

        .section-title {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: var(--title-space);
            text-transform: uppercase;
            font-weight: 800;
            letter-spacing: 1px;
        }

        :where(.btn, .hero-bottom-strip, .nav-link, .footer-link, .footer-quick-link, .price-card, .about-toggle summary, .faq-item summary) {
            transition:
                color var(--interactive-dur) var(--interactive-ease),
                background-color var(--interactive-dur) var(--interactive-ease),
                border-color var(--interactive-dur) var(--interactive-ease),
                box-shadow var(--interactive-dur) var(--interactive-ease),
                transform var(--interactive-dur) var(--interactive-ease),
                opacity var(--interactive-dur) var(--interactive-ease);
        }

        :where(.btn, .hero-bottom-strip, .nav-link, .footer-link, .footer-quick-link):focus-visible {
            outline: 2px solid rgba(255, 138, 0, 0.9);
            outline-offset: 2px;
            border-radius: 10px;
        }

        .btn {
            display: inline-block;
            padding: 14px 28px;
            border-radius: 50px;
            font-weight: 700;
            text-transform: uppercase;
            font-size: 0.9rem;
            cursor: pointer;
            border: none;
            transition: var(--transition);
        }

        .btn-primary {
            background-color: var(--color-primary);
            color: #fff;
        }

        .btn-primary:hover {
            background-color: var(--color-primary-hover);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(217, 83, 79, 0.4);
        }

        .btn-outline {
            border: 2px solid var(--color-primary);
            background: transparent;
            color: var(--color-primary);
        }

        .btn-outline:hover {
            background: var(--color-primary);
            color: #fff;
        }

        .card {
            background: var(--color-surface);
            border-radius: var(--border-radius);
            padding: 24px;
            border: 1px solid rgba(0, 0, 0, 0.08);
            transition: var(--transition);
        }

        .card:hover {
            transform: translateY(-5px);
            border-color: var(--color-secondary);
        }

        /* --- 3. Header --- */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: var(--header-height);
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            z-index: 1000;
            border-bottom: 1px solid rgba(0,0,0,0.12);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 100%;
        }

        .logo {
            font-family: 'Open Sans', sans-serif;
            font-weight: 800;
            font-size: 1.2rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: #000;
        }
        .logo span { color: #000; }
        .logo-img {
            height: 40px;
            width: auto;
        }

        .nav-menu {
            display: flex;
            gap: 30px;
        }

        .nav-link {
            font-family: 'Open Sans', sans-serif;
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            color: #000;
            display: inline-flex;
            align-items: center;
            padding: 8px 10px;
            border-radius: 999px;
        }

        .nav-link:hover, .nav-link.active {
            color: var(--color-primary);
            background: rgba(255, 138, 0, 0.12);
        }

        .burger {
            display: none;
            flex-direction: column;
            gap: 5px;
            cursor: pointer;
        }

        .burger span {
            width: 25px;
            height: 3px;
            background: #000;
            transition: var(--transition);
        }

        /* --- 4. Hero Section --- */
        .hero {
            height: 100vh;
            min-height: 600px;
            background: linear-gradient(rgba(0,0,0,0.14), rgba(0,0,0,0.3)), 
                        url('main.JPG'); 
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding-top: var(--header-height);
        }

        .hero-content {
            transform: translateY(-85px);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .hero-content h1 {
            font-size: clamp(2.5rem, 5vw, 4.5rem);
            line-height: 1.1;
            margin-bottom: 1.5rem;
        }

        .hero-top-strip,
        .hero-bottom-strip {
            display: inline-block;
            background: #FF8A00;
            color: #fff;
            font-family: 'Open Sans', sans-serif;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            padding: 16px 34px;
            border-radius: 999px;
        }

        .hero-top-strip {
            background: transparent;
            color: #fff;
            padding: 0;
            border-radius: 0;
            letter-spacing: 1px;
            font-size: clamp(1.2rem, 2.8vw, 1.7rem);
            margin-bottom: 1rem;
        }

        .hero-subtitle {
            font-family: 'Open Sans', sans-serif;
            font-size: clamp(1rem, 2.2vw, 1.35rem);
            font-weight: 600;
            margin-bottom: 2rem;
            color: #fff;
        }

        .hero-countdown-strip {
            margin: 0 auto 1rem;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            padding: 10px 14px;
            border-radius: 999px;
            background: rgba(0, 0, 0, 0.55);
            border: 1px solid rgba(255, 255, 255, 0.35);
            color: #fff;
            backdrop-filter: blur(4px);
            transform: translateY(-110px);
        }

        .hero-countdown-label {
            font-size: 0.78rem;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            font-weight: 600;
            white-space: nowrap;
        }

        .hero-countdown-timer {
            display: flex;
            gap: 8px;
        }

        .countdown-item {
            min-width: 58px;
            padding: 6px 8px;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.14);
            text-align: center;
        }

        .countdown-value {
            display: block;
            font-size: 1.1rem;
            font-weight: 700;
            line-height: 1;
        }

        .countdown-unit {
            display: block;
            margin-top: 3px;
            font-size: 0.62rem;
            text-transform: uppercase;
            letter-spacing: 0.6px;
            opacity: 0.9;
        }

        .hero-bottom-strip {
            position: relative;
            font-size: clamp(1.1rem, 2.4vw, 1.45rem);
            margin-top: 1rem;
            background: var(--color-primary);
            border: 1px solid rgba(255, 255, 255, 0.45);
            box-shadow: 0 0 0 0 rgba(255, 138, 0, 0.0);
            transition: transform 0.3s ease, box-shadow 0.3s ease, filter 0.3s ease;
            animation: regOutlinePulse 2.2s ease-in-out infinite;
        }

        @keyframes regOutlinePulse {
            0%, 100% {
                box-shadow: 0 0 0 0 rgba(255, 138, 0, 0.0), 0 0 0 0 rgba(255, 138, 0, 0.0);
            }
            50% {
                box-shadow: 0 0 0 3px rgba(255, 138, 0, 0.55), 0 0 18px 4px rgba(255, 138, 0, 0.45);
            }
        }

        .hero-bottom-strip:hover {
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 0 0 4px rgba(255, 138, 0, 0.6), 0 0 22px 6px rgba(255, 138, 0, 0.5);
            filter: saturate(1.03);
        }

        .hero-bottom-strip:active {
            transform: translateY(-1px) scale(0.995);
        }

        .about-intro {
            max-width: 1020px;
            margin: 0 auto 35px;
            display: grid;
            gap: 14px;
            text-align: justify;
            text-justify: inter-word;
            font-size: 1.03rem;
            line-height: 1.75;
            color: #000;
        }

        .about-intro p {
            margin: 0;
        }

        /* --- 5. About (Grid) --- */
        .about-grid {
            display: grid;
            grid-template-columns: repeat(3, minmax(0, 1fr));
            gap: 16px;
            max-width: 1020px;
            margin: 0 auto;
            align-items: start;
        }

        .about-toggle {
            background: linear-gradient(140deg, #ffffff 0%, #fff2e2 100%);
            border: 1px solid #ffd7ad;
            border-radius: 14px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            transition: var(--transition);
            min-height: 130px;
        }

        .about-toggle:hover {
            transform: translateY(-5px);
            box-shadow: 0 16px 34px rgba(0, 0, 0, 0.12);
        }

        .about-toggle[open] {
            border-color: #FF8A00;
            box-shadow: 0 18px 40px rgba(255, 138, 0, 0.2);
        }

        .about-toggle summary {
            list-style: none;
            cursor: pointer;
            padding: 16px 16px 14px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
        }

        .about-toggle summary::-webkit-details-marker {
            display: none;
        }

        .about-toggle summary::after {
            content: '▦';
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: #FF8A00;
            color: #fff;
            font-size: 1rem;
            font-weight: 700;
            flex-shrink: 0;
        }

        .about-toggle.about-date summary::after { content: '▦'; }
        .about-toggle.about-format summary::after { content: '⏱'; }
        .about-toggle.about-distance summary::after { content: '➤'; }

        .about-head {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            text-align: left;
            gap: 4px;
        }

        .about-value {
            font-family: 'Open Sans', sans-serif;
            font-size: clamp(1.8rem, 4vw, 2.4rem);
            line-height: 1;
            font-weight: 800;
            color: #FF8A00;
        }

        .about-label {
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            font-weight: 700;
            color: #111;
        }

        .about-content {
            padding: 0 22px 22px;
            border-top: 1px solid rgba(0, 0, 0, 0.08);
            color: #222;
        }

        /* --- 6. Program (Timeline) --- */
        .timeline {
            position: relative;
            max-width: 800px;
            margin: 0 auto;
        }
        .timeline::after {
            content: '';
            position: absolute;
            width: 2px;
            background: var(--color-secondary);
            top: 0;
            bottom: 0;
            left: 20px;
        }
        .timeline-item {
            padding: 10px 40px;
            position: relative;
            margin-bottom: 30px;
        }
        .timeline-item::after {
            content: '';
            position: absolute;
            width: 16px;
            height: 16px;
            background: var(--color-primary);
            border: 4px solid var(--color-bg);
            border-radius: 50%;
            left: 13px;
            top: 15px;
            z-index: 1;
        }
        .timeline-date {
            font-weight: 700;
            color: var(--color-secondary);
            margin-bottom: 5px;
        }

        /* --- 7. Registration & Pricing --- */
        .pricing-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 32px;
            align-items: start;
        }

        .price-card {
            position: relative;
            overflow: hidden;
            background: linear-gradient(180deg, #ffffff 0%, #fff7ee 100%);
            padding: 30px;
            border-radius: var(--border-radius);
            text-align: center;
            border: 1px solid #ffd7ad;
            opacity: 1;
            box-shadow: 0 8px 22px rgba(0,0,0,0.07);
            cursor: pointer;
            align-self: start;
            box-sizing: border-box;
            transition: transform 0.28s ease, box-shadow 0.28s ease, border-color 0.28s ease;
        }

        .price-card:focus-visible {
            outline: none;
        }

        .price-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, #FF8A00, #FFB347);
            transform: scaleX(0.35);
            transform-origin: left;
            transition: transform 0.28s ease;
        }

        .price-card:hover {
            transform: translateY(-6px);
            border-color: #ffbf80;
            box-shadow: 0 16px 35px rgba(0,0,0,0.12);
        }

        .price-card:hover::before {
            transform: scaleX(1);
        }

        .price-card.active {
            opacity: 1;
            border: 2px solid #FF8A00;
            transform: none;
            background: linear-gradient(180deg, #fff8ef 0%, #ffe7cb 100%);
            box-shadow: 0 18px 40px rgba(255,138,0,0.28);
        }

        .price-card.is-picked {
            border: 2px solid #FF8A00;
            box-shadow: 0 16px 34px rgba(255,138,0,0.22);
            transform: none;
        }

        .price-card.active::after {
            content: 'Актуально';
            position: absolute;
            top: 12px;
            right: 12px;
            font-size: 0.72rem;
            font-weight: 700;
            padding: 4px 10px;
            border-radius: 999px;
            background: #FF8A00;
            color: #fff;
            letter-spacing: 0.4px;
        }

        .price-amount {
            font-size: 2rem;
            font-weight: 700;
            margin: 15px 0;
        }

        .reg-form-shell {
            max-height: 0;
            opacity: 0;
            transform: translateY(-8px);
            overflow: hidden;
            margin-top: 0;
            box-sizing: border-box;
            pointer-events: none;
            transform-origin: top center;
            will-change: max-height, opacity, transform;
            transition: max-height 0.58s cubic-bezier(0.22, 1, 0.36, 1), opacity 0.48s ease, transform 0.48s ease, margin-top 0.48s ease;
        }

        .reg-form-shell.open {
            max-height: 1300px;
            opacity: 1;
            transform: translateY(0);
            margin-top: 14px;
            pointer-events: auto;
        }

        .reg-form-shell .reg-form {
            opacity: 0;
            transform: translateY(-10px) scale(0.985);
            transition: opacity 0.45s ease, transform 0.55s cubic-bezier(0.22, 1, 0.36, 1);
        }

        .reg-form-shell.open .reg-form {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        .reg-selected-plan {
            margin: 0 0 12px;
            font-size: 0.95rem;
            color: #000;
        }

        .reg-form {
            max-width: 600px;
            margin: 0 auto;
            background: var(--color-surface);
            padding: 40px;
            border-radius: var(--border-radius);
            width: 100%;
            box-sizing: border-box;
        }

        .price-card .reg-form {
            max-width: 100%;
            margin: 0;
            padding: 18px;
            text-align: left;
            border: 1px solid #ffd7ad;
            background: #fff;
            overflow: hidden;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 12px;
            background: #fff;
            border: 1px solid #bbb;
            color: #000;
            border-radius: 8px;
            font-family: inherit;
            box-sizing: border-box;
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--color-primary);
        }

        .checkbox-group {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 15px;
            font-size: 0.85rem;
        }
        .checkbox-group input {
            margin-top: 4px;
        }

        /* --- 8. Promfinish & Service --- */
        .promfinish-container {
            display: grid;
            grid-template-columns: repeat(3, minmax(0, 1fr));
            gap: 16px;
            align-items: stretch;
            margin-bottom: 24px;
        }

        .promfinish-zone {
            background: #fff;
            border: 1px solid #ffe1bf;
            border-radius: 14px;
            overflow: hidden;
            display: grid;
            align-content: start;
        }

        .promfinish-zone img {
            width: 100%;
            height: 220px;
            object-fit: cover;
            display: block;
        }

        .promfinish-zone-meta {
            padding: 12px 14px;
        }

        .promfinish-zone-title {
            margin: 0;
            font-size: 0.95rem;
            font-weight: 700;
            color: #000;
        }

        .promfinish-img {
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        .promfinish-infra {
            margin-top: 28px;
            padding: 24px;
            border-radius: 16px;
            border: 1px solid #ffd7ad;
            background: linear-gradient(180deg, #fff9f1 0%, #fff2e2 100%);
        }

        .promfinish-infra-title {
            margin-bottom: 6px;
            font-size: 1.5rem;
            font-weight: 700;
            color: #000;
        }

        .promfinish-infra-subtitle {
            margin: 0 0 18px;
            color: #333;
            font-size: 0.98rem;
        }

        .promfinish-infra-grid {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 14px;
        }

        .promfinish-infra-card {
            background: #fff;
            border: 1px solid #ffe1bf;
            border-radius: 12px;
            padding: 14px;
        }

        .promfinish-infra-card h4 {
            margin: 0 0 10px;
            font-size: 1rem;
            font-weight: 700;
            color: #000;
        }

        .promfinish-infra-list {
            margin: 0;
            padding-left: 18px;
            display: grid;
            gap: 7px;
            color: #222;
            font-size: 0.93rem;
            line-height: 1.4;
        }

        .service-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        .service-split {
            display: grid;
            gap: 24px;
        }
        .service-block {
            display: grid;
            gap: 16px;
        }
        .service-subtitle {
            margin: 0 0 6px 0;
            font-size: 1.05rem;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0.8px;
            color: #fff;
            background: #000;
            border-radius: 999px;
            padding: 8px 14px;
            display: inline-block;
        }
        .service-card {
            cursor: pointer;
        }

        .service-card:focus-visible {
            outline: 2px solid var(--color-primary);
            outline-offset: 2px;
        }

        .service-card h3 { color: var(--color-secondary); }

        .service-modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.58);
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
            z-index: 2000;
        }

        .service-modal.open {
            display: flex;
        }

        .service-modal-dialog {
            width: min(980px, 100%);
            max-height: 86vh;
            overflow: auto;
            background: #fff;
            border-radius: 16px;
            border: 1px solid #ffd8b0;
            box-shadow: 0 20px 46px rgba(0,0,0,0.28);
            padding: 18px;
        }

        .service-modal-head {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 12px;
        }

        .service-modal-title {
            margin: 0;
            font-size: 1.15rem;
            line-height: 1.25;
            color: #111;
        }

        .service-modal-close {
            border: 1px solid #ffcf9a;
            background: #fff6ec;
            color: #222;
            border-radius: 10px;
            width: 36px;
            height: 36px;
            font-size: 1.3rem;
            cursor: pointer;
            flex-shrink: 0;
        }

        .service-modal-body {
            color: #222;
            font-size: 0.92rem;
            line-height: 1.45;
            display: grid;
            gap: 12px;
        }

        .service-detail-table-wrap {
            overflow-x: auto;
            border: 1px solid #ffe0bb;
            border-radius: 10px;
            background: #fff;
        }

        .service-detail-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 620px;
        }

        .service-detail-table th,
        .service-detail-table td {
            border-bottom: 1px solid #f2e3d1;
            padding: 8px 10px;
            text-align: left;
            vertical-align: top;
            font-size: 0.86rem;
        }

        .service-detail-table th {
            background: #fff5e8;
            color: #111;
            font-weight: 700;
        }

        .session-btn {
            border: 1px solid #ffcf9a;
            background: #fff;
            color: #333;
            border-radius: 8px;
            padding: 6px 8px;
            font-size: 0.8rem;
            line-height: 1.25;
            cursor: pointer;
            width: 100%;
            text-align: left;
        }

        .session-btn:hover {
            background: #fff4e7;
        }

        .session-btn.active {
            background: #ff8a00;
            border-color: #ff8a00;
            color: #fff;
        }

        .service-session-panel {
            margin-top: 4px;
            border: 1px solid #ffe0bb;
            border-radius: 10px;
            background: #fff9f2;
            padding: 10px;
            display: grid;
            gap: 8px;
        }

        .service-session-panel[hidden] {
            display: none;
        }

        .service-session-selected {
            margin: 0;
            font-size: 0.85rem;
            color: #222;
        }

        .service-session-apply {
            justify-self: start;
            border: none;
            border-radius: 999px;
            padding: 8px 14px;
            background: #ff8a00;
            color: #fff;
            font-size: 0.78rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.4px;
            cursor: pointer;
            opacity: 1;
        }

        .service-session-apply:disabled {
            opacity: 0.45;
            cursor: not-allowed;
        }

        .service-hour-block {
            border: 1px solid #ffe0bb;
            border-radius: 10px;
            padding: 10px;
            background: #fff;
            display: grid;
            gap: 8px;
        }

        .service-hour-title {
            margin: 0;
            font-size: 0.84rem;
            font-weight: 700;
            color: #222;
        }

        .service-hour-slots {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 8px;
        }

        /* --- 9. FAQ --- */
        .faq-section {
            padding-top: var(--section-space);
            padding-bottom: var(--section-space);
        }

        .faq-container {
            max-width: 1180px;
            padding: 0 16px;
        }

        .faq-title {
            margin-bottom: 42px;
            text-align: center;
            font-family: 'Open Sans', sans-serif;
            font-size: clamp(2rem, 4.2vw, 3.6rem);
            font-weight: 400;
            line-height: 0.95;
            letter-spacing: 0.5px;
            color: #000;
            text-transform: uppercase;
        }

        .faq-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            align-items: start;
        }

        .faq-column {
            display: grid;
            gap: 0;
        }

        .faq-item {
            border-top: 1px solid #ececec;
            border-bottom: 1px solid #ececec;
            background: #fff;
        }

        .faq-item + .faq-item {
            border-top: none;
        }

        .faq-item summary {
            min-height: 78px;
            padding: 14px 2px 14px 0;
            cursor: pointer;
            list-style: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 14px;
        }

        .faq-item summary::-webkit-details-marker {
            display: none;
        }

        .faq-question {
            font-family: 'Open Sans', sans-serif;
            font-size: clamp(0.98rem, 1.2vw, 1.35rem);
            line-height: 1.28;
            font-weight: 400;
            color: #000;
            letter-spacing: 0.2px;
        }

        .faq-plus {
            width: 32px;
            height: 32px;
            position: relative;
            flex-shrink: 0;
        }

        .faq-plus::before,
        .faq-plus::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #1f2328;
            border-radius: 1px;
        }

        .faq-plus::before {
            width: 24px;
            height: 2px;
        }

        .faq-plus::after {
            width: 2px;
            height: 24px;
            transition: opacity 0.2s ease;
        }

        .faq-item[open] .faq-plus::after {
            opacity: 0;
        }

        .faq-content {
            padding: 0 44px 14px 0;
            color: #000;
            font-size: 0.95rem;
            line-height: 1.5;
            font-weight: 400;
        }

        /* --- 10. Video & Map --- */
        .video-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }
        .video-wrapper {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 */
            height: 0;
            background: #000;
            border-radius: var(--border-radius);
            overflow: hidden;
        }
        .video-wrapper iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .map-wrapper {
            height: 400px;
            background: #eee;
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #555;
        }

        /* --- 11. Footer --- */
        .footer {
            background: #1f5f8d;
            padding: 56px 0 18px;
            border-top: none;
            color: #fff;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(4, minmax(0, 1fr));
            column-gap: 34px;
            row-gap: 34px;
            align-items: start;
        }

        .footer-quick {
            justify-self: start;
            width: 100%;
        }

        .footer-quick-list {
            display: grid;
            gap: 10px;
        }

        .footer-quick-link {
            display: inline-block;
            color: #fff;
            font-size: 0.9rem;
            line-height: 1.35;
            padding: 8px 10px;
            border-radius: 999px;
        }

        .footer-quick-link:hover {
            opacity: 1;
            text-decoration: none;
            background: rgba(255, 138, 0, 0.18);
            color: #fff;
        }

        .footer-heading {
            margin: 0 0 18px;
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1.8px;
            color: rgba(255, 255, 255, 0.72);
        }

        .footer-list {
            display: grid;
            gap: 10px;
        }

        .footer-link {
            display: inline-block;
            font-size: 0.9rem;
            line-height: 1.35;
            color: #fff;
            padding: 8px 10px;
            border-radius: 999px;
        }

        .footer-link:hover {
            opacity: 1;
            text-decoration: none;
            background: rgba(255, 138, 0, 0.18);
            color: #fff;
        }

        .footer-subscribe-form {
            display: flex;
            gap: 10px;
            margin-bottom: 18px;
        }

        .footer-input {
            flex: 1;
            height: 56px;
            border: none;
            border-radius: 0;
            padding: 0 16px;
            font-size: 1.05rem;
            color: #222;
        }

        .footer-input:focus {
            outline: 2px solid #ff6a00;
            outline-offset: -2px;
        }

        .footer-send {
            width: 84px;
            height: 56px;
            border: none;
            background: #ff6a00;
            color: #fff;
            font-size: 2rem;
            line-height: 1;
            cursor: pointer;
            transition: background 0.2s ease;
        }

        .footer-send:hover {
            background: #ef5b00;
        }

        .footer-social {
            display: flex;
            gap: 12px;
        }

        .footer-social-link {
            width: 36px;
            height: 36px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.85);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-size: 1rem;
            font-weight: 700;
        }

        .footer-bottom {
            margin-top: 28px;
            padding-top: 14px;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }

        .footer-copy {
            margin: 0;
            font-size: 0.82rem;
            color: rgba(255, 255, 255, 0.76);
        }

        /* --- 12. Expandable Cards --- */
        .expandable-cards-section {
            padding: 80px 0;
            background: #fff;
        }

        .expandable-cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 30px;
            perspective: 1000px;
        }

        .expandable-card {
            position: relative;
            background: var(--color-surface);
            border-radius: 20px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(0, 0, 0, 0.08);
            min-height: 280px;
        }

        .expandable-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.5s ease;
        }

        .expandable-card:hover::before {
            transform: scaleX(1);
        }

        .expandable-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.4), 0 0 30px rgba(217, 83, 79, 0.1);
            border-color: rgba(217, 83, 79, 0.3);
        }

        .card-header {
            padding: 30px;
            position: relative;
            z-index: 2;
        }

        .card-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            font-size: 28px;
            transition: all 0.4s ease;
        }

        .expandable-card:hover .card-icon {
            transform: rotate(10deg) scale(1.1);
            box-shadow: 0 10px 30px rgba(217, 83, 79, 0.4);
        }

        .card-title {
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: #fff;
        }

        .card-subtitle {
            color: var(--color-text-muted);
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .card-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.6s cubic-bezier(0.4, 0, 0.2, 1), padding 0.6s ease, opacity 0.4s ease;
            opacity: 0;
            background: rgba(0, 0, 0, 0.3);
        }

        .expandable-card:hover .card-content {
            max-height: 400px;
            opacity: 1;
        }

        .card-content-inner {
            padding: 0 30px 30px 30px;
        }

        .card-stat {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s ease;
        }

        .card-stat:last-child {
            border-bottom: none;
        }

        .card-stat:hover {
            padding-left: 10px;
            background: rgba(255, 255, 255, 0.02);
        }

        .card-stat-icon {
            width: 36px;
            height: 36px;
            background: rgba(74, 108, 68, 0.2);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            color: var(--color-secondary);
        }

        .card-stat-value {
            font-weight: 700;
            color: #fff;
            font-size: 1.1rem;
        }

        .card-stat-label {
            color: var(--color-text-muted);
            font-size: 0.85rem;
        }

        .card-badge {
            display: inline-block;
            padding: 6px 14px;
            background: rgba(217, 83, 79, 0.15);
            color: var(--color-primary);
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-top: 15px;
            transition: all 0.3s ease;
        }

        .expandable-card:hover .card-badge {
            background: var(--color-primary);
            color: #fff;
            transform: translateY(-2px);
        }

        .card-progress {
            margin-top: 15px;
        }

        .progress-bar {
            height: 6px;
            background: rgba(0, 0, 0, 0.1);
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
            border-radius: 3px;
            transition: width 1s ease;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-top: 8px;
            font-size: 0.85rem;
            color: var(--color-text-muted);
        }

        /* Анимация появления карточек */
        @keyframes cardFadeIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .expandable-card {
            animation: cardFadeIn 0.6s ease forwards;
        }

        .expandable-card:nth-child(1) { animation-delay: 0.1s; }
        .expandable-card:nth-child(2) { animation-delay: 0.2s; }
        .expandable-card:nth-child(3) { animation-delay: 0.3s; }
        .expandable-card:nth-child(4) { animation-delay: 0.4s; }

        /* --- 13. Mobile Styles --- */
        @media (max-width: 768px) {
            .section {
                padding: var(--section-space-mobile) 0;
            }

            .section-title {
                margin-bottom: 1.8rem;
            }

            .header-container { padding: 0 15px; }
            .burger { display: flex; }

            .nav-menu {
                position: absolute;
                top: var(--header-height);
                left: -100%;
                width: 100%;
                height: calc(100vh - var(--header-height));
                background: #fff;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                transition: var(--transition);
                border-top: 1px solid #ddd;
            }

            .nav-menu.active {
                left: 0;
            }

            .nav-link { font-size: 1.5rem; }

            .hero-content h1 { font-size: 2.5rem; }
            .hero-content { transform: translateY(-45px); }

            .hero-countdown-strip {
                display: grid;
                gap: 8px;
                padding: 10px;
                border-radius: 14px;
                transform: translateY(-44px);
            }

            .hero-countdown-label {
                font-size: 0.72rem;
            }

            .hero-countdown-timer {
                gap: 6px;
            }

            .countdown-item {
                min-width: 48px;
                padding: 6px;
            }

            .countdown-value {
                font-size: 0.95rem;
            }

            .countdown-unit {
                font-size: 0.56rem;
            }

            .promfinish-container { grid-template-columns: 1fr; }
            .promfinish-zone img { height: 210px; }
            .promfinish-infra { padding: 16px; margin-top: 18px; }
            .promfinish-infra-grid { grid-template-columns: 1fr; gap: 10px; }
            .pricing-cards { grid-template-columns: 1fr; }
            .price-card.active { transform: scale(1); border-width: 2px; }

            .service-modal-dialog {
                padding: 14px;
            }

            .service-modal-title {
                font-size: 1rem;
            }

            .faq-section {
                padding-top: var(--section-space-mobile);
                padding-bottom: var(--section-space-mobile);
            }

            .faq-container {
                padding: 0 12px;
            }

            .faq-title {
                margin-bottom: 24px;
                font-size: clamp(1.7rem, 10vw, 2.5rem);
            }

            .faq-grid {
                grid-template-columns: 1fr;
                gap: 8px;
            }

            .faq-item summary {
                min-height: 64px;
                padding: 12px 0;
            }

            .faq-question {
                font-size: 1rem;
                line-height: 1.3;
            }

            .faq-plus {
                width: 26px;
                height: 26px;
            }

            .faq-plus::before {
                width: 18px;
                height: 2px;
            }

            .faq-plus::after {
                width: 2px;
                height: 18px;
            }

            .faq-content {
                padding: 0 0 14px 0;
                font-size: 0.9rem;
                line-height: 1.45;
            }

            .footer {
                padding: 40px 0 16px;
            }

            .footer-grid {
                grid-template-columns: 1fr;
                gap: 24px;
            }

            .footer-quick {
                justify-self: start;
                width: 100%;
            }

            .footer-subscribe-form {
                max-width: 100%;
            }

            .footer-send {
                width: 72px;
            }

            .footer-bottom {
                margin-top: 22px;
            }

            .expandable-cards-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>

    <!-- Header -->
    <header class="header">
        <div class="container header-container">
            <a href="#" class="logo"><img src="logo.png" alt="Логотип" class="logo-img"> Нерская <span>байкпакинговая гонка</span></a>
            <nav>
                <ul class="nav-menu" id="navMenu">
                    <li><a href="#about" class="nav-link">О гонке</a></li>
                    <li><a href="#program" class="nav-link">Программа</a></li>
                    <li><a href="#registration" class="nav-link">Регистрация</a></li>
                    <li><a href="#faq" class="nav-link">FAQ</a></li>
                </ul>
            </nav>
            <div class="burger" id="burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </header>

    <!-- Hero -->
    <section class="hero" id="hero">
        <div class="container hero-content">
            <div class="hero-countdown-strip" aria-live="polite">
                <span class="hero-countdown-label">До старта осталось</span>
                <div class="hero-countdown-timer" id="heroCountdown">
                    <span class="countdown-item"><span class="countdown-value" id="cdDays">--</span><span class="countdown-unit">дней</span></span>
                    <span class="countdown-item"><span class="countdown-value" id="cdHours">--</span><span class="countdown-unit">часов</span></span>
                    <span class="countdown-item"><span class="countdown-value" id="cdMinutes">--</span><span class="countdown-unit">минут</span></span>
                    <span class="countdown-item"><span class="countdown-value" id="cdSeconds">--</span><span class="countdown-unit">секунд</span></span>
                </div>
            </div>
            <div class="hero-top-strip">26–27 июля</div>
            <h1>Нерская байкпакинговая<br>гонка</h1>
            <p class="hero-subtitle">Москва - р.Нерская - Коломна 110 км + 70 км</p>
            <a href="#registration" class="hero-bottom-strip">Зарегистрироваться</a>
        </div>
    </section>

    <!-- О гонке -->
    <section class="section" id="about">
        <div class="container">
            <h2 class="section-title">О гонке</h2>
            <div class="about-intro">
                <p>Нерская байкпакинг-гонка — это двухдневное велосипедное приключение по маршруту Москва — Коломна с полной свободой и самообеспечением. Это не спорт и не гонка на результат. Это путь, ритм и настоящее ощущение дороги.</p>
                <p>Мы едем по заранее заданному треку, ориентируемся на местности, открываем для себя ближнее Подмосковье — его леса, реки, забытые дороги, исторические и природные точки, мимо которых обычно проезжают мимо.</p>
                <p>Маршрут проходит по восточной и юго-восточной части Подмосковья в местах ближней Мещеры. Великолепные сосновые боры, лесные озёра, луга и относительно равнинная местность. Соотношение асфальта и грунта примерно 50/50.</p>
                <p>Участников ждёт обязательная ночёвка на промежуточном финише — в полевых условиях, без гостиниц, машин и посторонней помощи. Всё необходимое — снаряжение, еду, воду и одежду — каждый везёт с собой. Только велосипед, рюкзаки и ты.</p>
                <p>Нерская — это про байкпакинг как образ мышления. Про движение на педалях. Про простые решения. Про дорогу от Москвы к Коломне, которая запомнится надолго.</p>
            </div>
            <div class="about-grid">
                <details class="about-toggle about-date">
                    <summary>
                        <span class="about-head">
                            <span class="about-value">26–27 июля</span>
                            <span class="about-label">Даты</span>
                        </span>
                    </summary>
                    <div class="about-content">
                        <p>Старт утром первого дня, финиш и награждение вечером второго. Рекомендуется приехать заранее с готовым комплектом снаряжения.</p>
                    </div>
                </details>

                <details class="about-toggle about-format">
                    <summary>
                        <span class="about-head">
                            <span class="about-value">2 дня</span>
                            <span class="about-label">Формат</span>
                        </span>
                    </summary>
                    <div class="about-content">
                        <p>Первый день — длинный этап и промфиниш у Нерской с ночёвкой в палатках. Второй день — динамичный доезд до Коломны и финишное общение.</p>
                    </div>
                </details>

                <details class="about-toggle about-distance">
                    <summary>
                        <span class="about-head">
                            <span class="about-value">180 км</span>
                            <span class="about-label">Общая дистанция</span>
                        </span>
                    </summary>
                    <div class="about-content">
                        <p>Первый день — 110 км и промфиниш у Нерской с ночёвкой в палатках в организованном кэмпе. Второй день — 60 км до Коломны и финиш у Коломенского Кремля.</p>
                    </div>
                </details>
            </div>
        </div>
    </section>

    <!-- Программа -->
    <section class="section" id="program">
        <div class="container">
            <h2 class="section-title">Программа по дням</h2>
            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-date">Даты проведения</div>
                    <h3>25 и 26 июля</h3>
                    <p>Основная программа гонки проходит в двухдневном формате с общим стартом и награждением по итогам этапов.</p>
                </div>

                <div class="timeline-item">
                    <div class="timeline-date">25 июля, суббота</div>
                    <h3>Стартовый день и промфиниш на Нерской</h3>
                    <p>08:00 — выдача стартовых номерков;<br>08:00–09:45 — фотографии участников, снаряжения и общее фото;<br>09:45 — брифинг;<br>10:00 — общий старт;<br>до 21:00 — ожидаемый финиш лидера и замыкающего;<br>19:00 — награждение победителей первого дня;<br>потом пикник, вечеринка, купание.</p>
                </div>

                <div class="timeline-item">
                    <div class="timeline-date">10 августа, воскресение</div>
                    <h3>Второй день</h3>
                    <p>10:30 — брифинг второго дня;<br>11:00 — общий старт второго дня;<br>16:00 — награждение победителей по результатам двух дней;<br>18:00 — ожидаемый финиш лидера и замыкающего второго дня.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Регистрация и Тарифы -->
    <section class="section" id="registration">
        <div class="container">
            <h2 class="section-title">Регистрация и взносы</h2>
            
            <div class="pricing-cards">
                <div class="price-card" data-date="2026-03-01" data-plan="Ранняя пташка" tabindex="0" role="button" aria-label="Выбрать тариф Ранняя пташка">
                    <h3>Ранняя пташка</h3>
                    <p>до 01.03.2026</p>
                    <div class="price-amount">2026 ₽</div>
                </div>
                <div class="price-card" data-date="2026-06-01" data-plan="Стандартный" tabindex="0" role="button" aria-label="Выбрать тариф Стандартный">
                    <h3>Стандарт</h3>
                    <p>до 01.06.2026</p>
                    <div class="price-amount">2555 ₽</div>
                </div>
                <div class="price-card" data-date="2026-07-19" data-plan="Последний звонок" tabindex="0" role="button" aria-label="Выбрать тариф Последний звонок">
                    <h3>Последний Звонок</h3>
                    <p>до 19.07.2026</p>
                    <div class="price-amount">3000 ₽</div>
                </div>
            </div>

            <div class="reg-form-shell" id="regFormShell">
                <form class="reg-form" action="#" method="POST">
                    <p class="reg-selected-plan" id="selectedPlanLabel">Выбран тариф</p>
                    <input type="hidden" id="selected-plan" name="selected_plan" value="">

                    <div class="form-group">
                        <label class="form-label" for="name">Имя *</label>
                        <input type="text" id="name" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="lastname">Фамилия *</label>
                        <input type="text" id="lastname" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="phone">Телефон *</label>
                        <input type="tel" id="phone" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="email">Email *</label>
                        <input type="email" id="email" class="form-input" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="telegram">Telegram ник</label>
                        <input type="text" id="telegram" class="form-input" placeholder="@username">
                    </div>
                    
                    <button type="submit" class="btn btn-primary" style="width: 100%">Отправить заявку</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Промфиниш -->
    <section class="section" id="promfinish">
        <div class="container">
            <h2 class="section-title">Промфиниш</h2>
            <div class="promfinish-container">
                <article class="promfinish-zone">
                    <img src="prom3.jpeg" alt="Промфиниш — атмосфера лагеря">
                    <div class="promfinish-zone-meta">
                        <h3 class="promfinish-zone-title">Атмосфера промфиниша</h3>
                    </div>
                </article>

                <article class="promfinish-zone">
                    <img src="prom2.jpeg" alt="Промфиниш — зона релакса">
                    <div class="promfinish-zone-meta">
                        <h3 class="promfinish-zone-title">Релакс и восстановление</h3>
                    </div>
                </article>

                <article class="promfinish-zone">
                    <img src="prom1.jpeg" alt="Промфиниш — зона кемпа">
                    <div class="promfinish-zone-meta">
                        <h3 class="promfinish-zone-title">Кемп и размещение</h3>
                    </div>
                </article>
            </div>

            <div class="promfinish-infra">
                <h3 class="promfinish-infra-title">Инфраструктура Промфиниша</h3>
                <p class="promfinish-infra-subtitle">Максимум заботы о райдерах в одной локации.</p>

                <div class="promfinish-infra-grid">
                    <article class="promfinish-infra-card">
                        <h4>🍽 Еда и напитки</h4>
                        <ul class="promfinish-infra-list">
                            <li>Горячая кухня и сытные завтраки.</li>
                            <li>Традиционная самоварная с ароматным чайным мастером.</li>
                            <li>Питьевая вода в неограниченном доступе.</li>
                        </ul>
                    </article>

                    <article class="promfinish-infra-card">
                        <h4>🧖‍♂️ Релакс-зона</h4>
                        <ul class="promfinish-infra-list">
                            <li>Мобильная баня на берегу реки.</li>
                            <li>Услуги профессионального пармастера.</li>
                            <li>Массажный салон.</li>
                        </ul>
                    </article>

                    <article class="promfinish-infra-card">
                        <h4>🔥 Атмосфера и уют</h4>
                        <ul class="promfinish-infra-list">
                            <li>Лобное место с большим костром.</li>
                            <li>Легкая вечеринка (Party time!) под открытым небом.</li>
                            <li>Лаунж с освежающими напитками и тапасами.</li>
                        </ul>
                    </article>

                    <article class="promfinish-infra-card">
                        <h4>⚡️ Сервис</h4>
                        <ul class="promfinish-infra-list">
                            <li>Электричество для зарядки навигации и телефонов.</li>
                            <li>Организованная велопарковка и туалеты.</li>
                        </ul>
                    </article>
                </div>
            </div>
        </div>
    </section>

    <!-- Сервис -->
    <section class="section" id="service">
        <div class="container">
            <h2 class="section-title">Сервис и дополнительные услуги</h2>
            <div class="service-split">
                <div class="service-block">
                    <h3 class="service-subtitle">Сервис</h3>
                    <div class="service-grid">
                        <div class="card service-card" data-service="massage" tabindex="0" role="button" aria-label="Открыть описание услуги Массаж">
                            <h3>Массаж</h3>
                            <p>Восстановительный спортивный массаж после финиша этапа для снятия мышечного напряжения.</p>
                        </div>
                        <div class="card service-card" data-service="mobiba" tabindex="0" role="button" aria-label="Открыть описание услуги Мобильная баня">
                            <h3>Мобильная баня</h3>
                            <p>Мобиба спа В лагере промфиниша для полноценного восстановления и отдыха. Мобиба спа — сердце нашего промфиниша</p>
                        </div>
                        <div class="card service-card" data-service="bikefit" tabindex="0" role="button" aria-label="Открыть описание услуги Байк-фит">
                            <h3>Байк-фит</h3>
                            <p>Быстрая настройка посадки и базовая корректировка велосипеда перед стартом.</p>
                        </div>
                    </div>
                </div>

                <div class="service-block">
                    <h3 class="service-subtitle">Дополнительные услуги</h3>
                    <div class="service-grid">
                        <div class="card service-card" data-service="dinner" tabindex="0" role="button" aria-label="Открыть описание услуги Ужин">
                            <h3>Ужин</h3>
                            <p>Горячий ужин в кемпе промфиниша после первого соревновательного дня.</p>
                        </div>
                        <div class="card service-card" data-service="breakfast" tabindex="0" role="button" aria-label="Открыть описание услуги Завтрак">
                            <h3>Завтрак</h3>
                            <p>Сытный завтрак перед стартом второго дня, чтобы спокойно выйти на этап.</p>
                        </div>
                        <div class="card service-card" data-service="samovar" tabindex="0" role="button" aria-label="Открыть описание услуги Самоварная">
                            <h3>Самоварная</h3>
                            <p>Чайная зона с самоваром и перекусом для участников и гостей лагеря.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="service-modal" id="serviceModal" aria-hidden="true">
        <div class="service-modal-dialog" role="dialog" aria-modal="true" aria-labelledby="serviceModalTitle">
            <div class="service-modal-head">
                <h3 class="service-modal-title" id="serviceModalTitle">Описание услуги</h3>
                <button class="service-modal-close" id="serviceModalClose" type="button" aria-label="Закрыть">×</button>
            </div>
            <div class="service-modal-body" id="serviceModalBody"></div>
            <div class="service-session-panel" id="serviceSessionPanel">
                <p class="service-session-selected" id="serviceSessionSelected">Выбранные сеансы: не выбраны</p>
                <button class="service-session-apply" id="serviceSessionApply" type="button" disabled>Забронировать слот</button>
            </div>
        </div>
    </div>

    <!-- Видео -->
    <section class="section" id="video">
        <div class="container">
            <h2 class="section-title">Видео с прошлых гонок</h2>
            <div class="video-grid">
                <div class="video-wrapper">
                    <iframe src="https://www.youtube.com/embed/placeholder1" title="Video 1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen loading="lazy"></iframe>
                </div>
                <div class="video-wrapper">
                    <iframe src="https://www.youtube.com/embed/placeholder2" title="Video 2" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen loading="lazy"></iframe>
                </div>
                <div class="video-wrapper">
                    <iframe src="https://www.youtube.com/embed/placeholder3" title="Video 3" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen loading="lazy"></iframe>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ -->
    <section class="section faq-section" id="faq">
        <div class="container faq-container">
            <h2 class="faq-title">F.A.Q.</h2>

            <div class="faq-grid">
                <div class="faq-column">
                    <details class="faq-item">
                        <summary>
                            <span class="faq-question">Как зарегистрироваться, сколько стоит участие, возврат и переоформление слота.</span>
                            <span class="faq-plus" aria-hidden="true"></span>
                        </summary>
                        <div class="faq-content">
                            Регистрация проходит через форму на сайте. Стоимость зависит от этапа оплаты. Возврат и переоформление слота возможны по правилам события до указанной даты.
                        </div>
                    </details>

                    <details class="faq-item">
                        <summary>
                            <span class="faq-question">Рекомендуемое снаряжение.</span>
                            <span class="faq-plus" aria-hidden="true"></span>
                        </summary>
                        <div class="faq-content">
                            Рекомендуем шлем, передний и задний свет, ремнабор (камера/жгуты, насос, мультитул), заряженный телефон с навигацией, power bank, аптечку, запас воды и ветровлагозащитный слой одежды.
                        </div>
                    </details>

                    <details class="faq-item">
                        <summary>
                            <span class="faq-question">Что значит «самообеспечение»?</span>
                            <span class="faq-plus" aria-hidden="true"></span>
                        </summary>
                        <div class="faq-content">
                            Участник самостоятельно планирует питание, воду, одежду, ремонт и навигацию. Внешняя поддержка во время прохождения маршрута ограничена правилами гонки.
                        </div>
                    </details>

                    <details class="faq-item">
                        <summary>
                            <span class="faq-question">Есть ли командные или парные зачеты?</span>
                            <span class="faq-plus" aria-hidden="true"></span>
                        </summary>
                        <div class="faq-content">
                            Базовый зачет индивидуальный. При наличии отдельных категорий для пар и команд это дополнительно указывается в регламенте текущего года.
                        </div>
                    </details>
                </div>

                <div class="faq-column">
                    <details class="faq-item">
                        <summary>
                            <span class="faq-question">Где начинается и заканчивается маршрут?</span>
                            <span class="faq-plus" aria-hidden="true"></span>
                        </summary>
                        <div class="faq-content">
                            Точные точки старта и финиша публикуются в брифинге и на карте мероприятия. До старта вы получите финальный GPX-трек и инструкции по логистике.
                        </div>
                    </details>

                    <details class="faq-item">
                        <summary>
                            <span class="faq-question">В какой физической форме нужно быть?</span>
                            <span class="faq-plus" aria-hidden="true"></span>
                        </summary>
                        <div class="faq-content">
                            Нужен уверенный опыт длительных поездок и способность к равномерной нагрузке в течение всего дня. Рекомендуется заранее потренироваться на смешанном покрытии.
                        </div>
                    </details>

                    <details class="faq-item">
                        <summary>
                            <span class="faq-question">Безопасно ли это?</span>
                            <span class="faq-plus" aria-hidden="true"></span>
                        </summary>
                        <div class="faq-content">
                            Маршрут строится по доступным дорогам и тропам, но это приключенческий формат. Используйте шлем, свет, заряженный телефон и соблюдайте ПДД.
                        </div>
                    </details>

                    <details class="faq-item">
                        <summary>
                            <span class="faq-question">На каком велосипеде нужно ехать?</span>
                            <span class="faq-plus" aria-hidden="true"></span>
                        </summary>
                        <div class="faq-content">
                            Оптимально ехать на гравеле или МТБ с покрышками от 40 мм. Шоссейный велосипед может быть неудобен на песке и неровных участках.
                        </div>
                    </details>

                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-column">
                    <h3 class="footer-heading">Ссылки</h3>
                    <ul class="footer-list">
                        <li><a href="#registration" class="footer-link">Страница для гонщиков 2026</a></li>
                        <li><a href="#" class="footer-link">Участники гонки 2025</a></li>
                        <li><a href="#" class="footer-link">Участники гонки 2024</a></li>
                    </ul>
                </div>

                <div class="footer-column">
                    <h3 class="footer-heading">Документы</h3>
                    <ul class="footer-list">
                        <li><a href="#program" class="footer-link">Регламент и правила</a></li>
                        <li><a href="#" class="footer-link">Публичная оферта</a></li>
                        <li><a href="https://park-meshera.ru" class="footer-link" target="_blank" rel="noopener noreferrer">Правила посещения Национального парка Мещера</a></li>
                        <li><a href="#" class="footer-link">Политика конфиденциальности</a></li>
                    </ul>
                </div>

                <div class="footer-column">
                    <h3 class="footer-heading">Контакты</h3>
                    <ul class="footer-list">
                        <li><a href="https://t.me/na_nerskuyu" class="footer-link">Чат в Телеграм</a></li>
                        <li><a href="https://t.me/na_nerskuyu" class="footer-link">Канал в Телеграм</a></li>
                    </ul>
                </div>

                <aside class="footer-column footer-quick">
                    <h3 class="footer-heading">Скачать</h3>
                    <div class="footer-quick-list">
                        <a href="#" class="footer-quick-link">Регламент PDF</a>
                        <a href="#" class="footer-quick-link">Маршрут Map Magic</a>
                        <a href="#" class="footer-quick-link">Маршрут GPX</a>
                    </div>
                </aside>

            </div>

            <div class="footer-bottom">
                <p class="footer-copy">&copy; 2026 Нерская байкпакинговая гонка. Все права защищены.</p>
            </div>
        </div>
    </footer>

    <!-- Скрипты -->
    <script>
        // 1. Мобильное меню
        const burger = document.getElementById('burger');
        const navMenu = document.getElementById('navMenu');
        const navLinks = document.querySelectorAll('.nav-link');

        burger.addEventListener('click', () => {
            navMenu.classList.toggle('active');
            // Анимация бургера (простая смена цвета для примера)
            burger.style.opacity = navMenu.classList.contains('active') ? '0.7' : '1';
        });

        // Закрытие меню при клике на ссылку
        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                navMenu.classList.remove('active');
            });
        });

        // 2. Логика подсветки цен по дате
        document.addEventListener('DOMContentLoaded', () => {
            const today = new Date();
            const cards = document.querySelectorAll('.price-card');
            const regFormShell = document.getElementById('regFormShell');
            const selectedPlanInput = document.getElementById('selected-plan');
            const selectedPlanLabel = document.getElementById('selectedPlanLabel');
            let closeTimer = null;

            // 2.1 Счетчик до старта в hero
            const cdDays = document.getElementById('cdDays');
            const cdHours = document.getElementById('cdHours');
            const cdMinutes = document.getElementById('cdMinutes');
            const cdSeconds = document.getElementById('cdSeconds');
            const raceStart = new Date('2026-07-25T10:00:00+03:00');

            const updateHeroCountdown = () => {
                if (!cdDays || !cdHours || !cdMinutes || !cdSeconds) return;

                const now = new Date();
                const diffMs = raceStart.getTime() - now.getTime();

                if (diffMs <= 0) {
                    cdDays.textContent = '0';
                    cdHours.textContent = '00';
                    cdMinutes.textContent = '00';
                    cdSeconds.textContent = '00';
                    return;
                }

                const totalSeconds = Math.floor(diffMs / 1000);
                const days = Math.floor(totalSeconds / 86400);
                const hours = Math.floor((totalSeconds % 86400) / 3600);
                const minutes = Math.floor((totalSeconds % 3600) / 60);
                const seconds = totalSeconds % 60;

                cdDays.textContent = String(days);
                cdHours.textContent = String(hours).padStart(2, '0');
                cdMinutes.textContent = String(minutes).padStart(2, '0');
                cdSeconds.textContent = String(seconds).padStart(2, '0');
            };

            updateHeroCountdown();
            setInterval(updateHeroCountdown, 1000);
            
            // Даты дедлайнов из ТЗ
            const date1 = new Date('2026-03-01');
            const date2 = new Date('2026-06-01');
            const date3 = new Date('2026-07-19');

            let activeIndex = 2; // По умолчанию последняя

            if (today < date1) {
                activeIndex = 0;
            } else if (today < date2) {
                activeIndex = 1;
            } else if (today < date3) {
                activeIndex = 2;
            }

            // Добавляем класс active нужной карточке
            if(cards[activeIndex]) {
                cards[activeIndex].classList.add('active');
                // Добавим подпись "Текущая цена"
                const badge = document.createElement('div');
                badge.innerText = 'Сейчас';
                badge.style.cssText = 'background:var(--color-primary); color:white; padding:4px 8px; border-radius:4px; display:inline-block; font-size:0.8rem; margin-bottom:10px;';
                cards[activeIndex].prepend(badge);
            }

            const cancelClose = () => {
                if (closeTimer) {
                    clearTimeout(closeTimer);
                    closeTimer = null;
                }
            };

            const closeForm = () => {
                cards.forEach(item => item.classList.remove('is-picked'));
                if (regFormShell) {
                    regFormShell.classList.remove('open');
                }
            };

            const scheduleClose = () => {
                cancelClose();
                closeTimer = setTimeout(closeForm, 240);
            };

            const openFormForPlan = (card) => {
                cancelClose();
                const selectedPlan = card.getAttribute('data-plan') || card.querySelector('h3')?.textContent || '';
                cards.forEach(item => item.classList.remove('is-picked'));
                card.classList.add('is-picked');

                if (selectedPlanInput) {
                    selectedPlanInput.value = selectedPlan;
                }

                if (selectedPlanLabel) {
                    selectedPlanLabel.textContent = `Выбран тариф ${selectedPlan}`;
                }

                if (regFormShell) {
                    card.appendChild(regFormShell);
                    regFormShell.classList.add('open');
                }
            };

            cards.forEach(card => {
                card.addEventListener('mouseenter', () => openFormForPlan(card));
                card.addEventListener('mouseleave', scheduleClose);
                card.addEventListener('click', () => openFormForPlan(card));
                card.addEventListener('keydown', (event) => {
                    if (event.key === 'Enter' || event.key === ' ') {
                        event.preventDefault();
                        openFormForPlan(card);
                    }
                });
            });

            initServiceCardsModal();

            // Инициализация интерактивных карточек
            initExpandableCards();
        });

        // 3. Обработка формы (заглушка)
        const form = document.querySelector('.reg-form');
        form.addEventListener('submit', (e) => {
            e.preventDefault();
            alert('Заявка принята! В реальном проекте здесь будет перенаправление на оплату.');
        });

        // 4. Интерактивные карточки с динамическим контентом
        function initServiceCardsModal() {
            const modal = document.getElementById('serviceModal');
            const modalTitle = document.getElementById('serviceModalTitle');
            const modalBody = document.getElementById('serviceModalBody');
            const closeBtn = document.getElementById('serviceModalClose');
            const serviceSessionPanel = document.getElementById('serviceSessionPanel');
            const serviceSessionSelected = document.getElementById('serviceSessionSelected');
            const serviceSessionApply = document.getElementById('serviceSessionApply');
            const cards = document.querySelectorAll('.service-card[data-service]');
            let selectedSessions = [];
            let currentServiceKey = '';

            if (!modal || !modalTitle || !modalBody || !closeBtn || !serviceSessionPanel || !serviceSessionSelected || !serviceSessionApply || !cards.length) return;

            const syncSessionPanel = () => {
                const hasSessionOptions = modalBody.querySelectorAll('.session-btn').length > 0;

                if (!hasSessionOptions) {
                    serviceSessionPanel.hidden = true;
                    serviceSessionApply.disabled = true;
                    serviceSessionSelected.textContent = 'Выбранные сеансы: не выбраны';
                    return;
                }

                serviceSessionPanel.hidden = false;

                if (selectedSessions.length === 0) {
                    serviceSessionSelected.textContent = 'Выбранные сеансы: не выбраны';
                    serviceSessionApply.disabled = true;
                } else if (selectedSessions.length === 1) {
                    serviceSessionSelected.textContent = `Выбранный сеанс: ${selectedSessions[0]}`;
                    serviceSessionApply.disabled = false;
                } else {
                    serviceSessionSelected.textContent = `Выбрано сеансов: ${selectedSessions.length}`;
                    serviceSessionApply.disabled = false;
                }

                serviceSessionApply.textContent = currentServiceKey === 'mobiba'
                    ? 'Забронировать выбранные слоты'
                    : 'Забронировать слот';
            };

            const resetSessionSelection = () => {
                selectedSessions = [];
                modalBody.querySelectorAll('.session-btn.active').forEach(btn => btn.classList.remove('active'));
                syncSessionPanel();
            };

            const details = {
                massage: {
                    title: '🏠 Расписание зоны релакса: Мобиба SPA и Массаж',
                    html: `
                        <p><strong>💆‍♂️ Массажный салон (15:00 – 22:00)</strong><br>Работают 2 мастера: мужчина и женщина. Сеанс — 30 минут, перерыв — 10 минут.</p>
                        <div class="service-detail-table-wrap">
                            <table class="service-detail-table">
                                <thead>
                                    <tr>
                                        <th>Время</th>
                                        <th>Мастер 1 (Мужчина)</th>
                                        <th>Мастер 2 (Женщина)</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr><td>15:00 – 15:30</td><td><button type="button" class="session-btn" data-session="Массаж • 15:00–15:30 • Мастер 1 (мужчина)">Сеанс 1</button></td><td><button type="button" class="session-btn" data-session="Массаж • 15:00–15:30 • Мастер 2 (женщина)">Сеанс 1</button></td></tr>
                                    <tr><td>15:40 – 16:10</td><td><button type="button" class="session-btn" data-session="Массаж • 15:40–16:10 • Мастер 1 (мужчина)">Сеанс 2</button></td><td><button type="button" class="session-btn" data-session="Массаж • 15:40–16:10 • Мастер 2 (женщина)">Сеанс 2</button></td></tr>
                                    <tr><td>16:20 – 16:50</td><td><button type="button" class="session-btn" data-session="Массаж • 16:20–16:50 • Мастер 1 (мужчина)">Сеанс 3</button></td><td><button type="button" class="session-btn" data-session="Массаж • 16:20–16:50 • Мастер 2 (женщина)">Сеанс 3</button></td></tr>
                                    <tr><td>17:00 – 17:30</td><td><button type="button" class="session-btn" data-session="Массаж • 17:00–17:30 • Мастер 1 (мужчина)">Сеанс 4</button></td><td><button type="button" class="session-btn" data-session="Массаж • 17:00–17:30 • Мастер 2 (женщина)">Сеанс 4</button></td></tr>
                                    <tr><td>17:40 – 18:10</td><td><button type="button" class="session-btn" data-session="Массаж • 17:40–18:10 • Мастер 1 (мужчина)">Сеанс 5</button></td><td><button type="button" class="session-btn" data-session="Массаж • 17:40–18:10 • Мастер 2 (женщина)">Сеанс 5</button></td></tr>
                                    <tr><td>18:10 – 18:50</td><td>Технический перерыв</td><td>Технический перерыв</td></tr>
                                    <tr><td>18:50 – 19:20</td><td><button type="button" class="session-btn" data-session="Массаж • 18:50–19:20 • Мастер 1 (мужчина)">Сеанс 6</button></td><td><button type="button" class="session-btn" data-session="Массаж • 18:50–19:20 • Мастер 2 (женщина)">Сеанс 6</button></td></tr>
                                    <tr><td>19:30 – 20:00</td><td><button type="button" class="session-btn" data-session="Массаж • 19:30–20:00 • Мастер 1 (мужчина)">Сеанс 7</button></td><td><button type="button" class="session-btn" data-session="Массаж • 19:30–20:00 • Мастер 2 (женщина)">Сеанс 7</button></td></tr>
                                    <tr><td>20:10 – 20:40</td><td><button type="button" class="session-btn" data-session="Массаж • 20:10–20:40 • Мастер 1 (мужчина)">Сеанс 8</button></td><td><button type="button" class="session-btn" data-session="Массаж • 20:10–20:40 • Мастер 2 (женщина)">Сеанс 8</button></td></tr>
                                    <tr><td>20:50 – 21:20</td><td><button type="button" class="session-btn" data-session="Массаж • 20:50–21:20 • Мастер 1 (мужчина)">Сеанс 9</button></td><td><button type="button" class="session-btn" data-session="Массаж • 20:50–21:20 • Мастер 2 (женщина)">Сеанс 9</button></td></tr>
                                    <tr><td>21:30 – 22:00</td><td><button type="button" class="session-btn" data-session="Массаж • 21:30–22:00 • Мастер 1 (мужчина)">Сеанс 10</button></td><td><button type="button" class="session-btn" data-session="Массаж • 21:30–22:00 • Мастер 2 (женщина)">Сеанс 10</button></td></tr>
                                </tbody>
                            </table>
                        </div>
                    `
                },
                mobiba: {
                    title: '🏠 Расписание зоны релакса: Мобиба SPA и Массаж',
                    html: `
                        <p><strong>💨 Мобильная баня (15:00 – 22:00)</strong><br>Вместимость: 6–8 человек. Чередование мужских и женских разрядов.</p>
                        <ul>
                            <li><button type="button" class="session-btn" data-session="Мобиба SPA • 15:00–16:00 • Женский разряд">15:00 – 16:00 — Женский разряд (Общий пар)</button></li>
                            <li><button type="button" class="session-btn" data-session="Мобиба SPA • 16:00–17:00 • Мужской разряд">16:00 – 17:00 — Мужской разряд (Общий пар)</button></li>
                            <li><button type="button" class="session-btn" data-session="Мобиба SPA • 17:00–18:00 • Женский разряд">17:00 – 18:00 — Женский разряд (Общий пар)</button></li>
                            <li><button type="button" class="session-btn" data-session="Мобиба SPA • 18:00–19:00 • Мужской разряд">18:00 – 19:00 — Мужской разряд (Общий пар)</button></li>
                            <li><button type="button" class="session-btn" data-session="Мобиба SPA • 19:00–20:00 • Женский разряд">19:00 – 20:00 — Женский разряд (Общий пар)</button></li>
                            <li><button type="button" class="session-btn" data-session="Мобиба SPA • 20:00–21:00 • Мужской разряд">20:00 – 21:00 — Мужской разряд (Общий пар)</button></li>
                            <li><button type="button" class="session-btn" data-session="Мобиба SPA • 21:00–22:00 • Смешанный час">21:00 – 22:00 — Смешанный час (Дружеские посиделки)</button></li>
                        </ul>
                        <p><strong>🌿 Услуги Пармастера (Индивидуальное парение)</strong><br>
                        Проводится параллельно с работой бани. Парение дубовыми вениками.<br>
                        Длительность: 10 минут интенсивного прогрева.<br>
                        Запись: осуществляется на месте у администратора бани.<br>
                        Особенности: мастер забирает одного человека из общего разряда для индивидуальной проработки.<br>
                        <strong>Лимит: в каждый час доступно только 4 слота (с 16:00 до 21:00).</strong></p>

                        <div class="service-hour-block">
                            <p class="service-hour-title">16:00–17:00 (4 слота)</p>
                            <div class="service-hour-slots">
                                <button type="button" class="session-btn" data-session="Индивидуальное парение • 16:00–16:15 • Слот 1">16:00–16:15</button>
                                <button type="button" class="session-btn" data-session="Индивидуальное парение • 16:15–16:30 • Слот 2">16:15–16:30</button>
                                <button type="button" class="session-btn" data-session="Индивидуальное парение • 16:30–16:45 • Слот 3">16:30–16:45</button>
                                <button type="button" class="session-btn" data-session="Индивидуальное парение • 16:45–17:00 • Слот 4">16:45–17:00</button>
                            </div>
                        </div>

                        <div class="service-hour-block">
                            <p class="service-hour-title">17:00–18:00 (4 слота)</p>
                            <div class="service-hour-slots">
                                <button type="button" class="session-btn" data-session="Индивидуальное парение • 17:00–17:15 • Слот 1">17:00–17:15</button>
                                <button type="button" class="session-btn" data-session="Индивидуальное парение • 17:15–17:30 • Слот 2">17:15–17:30</button>
                                <button type="button" class="session-btn" data-session="Индивидуальное парение • 17:30–17:45 • Слот 3">17:30–17:45</button>
                                <button type="button" class="session-btn" data-session="Индивидуальное парение • 17:45–18:00 • Слот 4">17:45–18:00</button>
                            </div>
                        </div>

                        <div class="service-hour-block">
                            <p class="service-hour-title">18:00–19:00 (4 слота)</p>
                            <div class="service-hour-slots">
                                <button type="button" class="session-btn" data-session="Индивидуальное парение • 18:00–18:15 • Слот 1">18:00–18:15</button>
                                <button type="button" class="session-btn" data-session="Индивидуальное парение • 18:15–18:30 • Слот 2">18:15–18:30</button>
                                <button type="button" class="session-btn" data-session="Индивидуальное парение • 18:30–18:45 • Слот 3">18:30–18:45</button>
                                <button type="button" class="session-btn" data-session="Индивидуальное парение • 18:45–19:00 • Слот 4">18:45–19:00</button>
                            </div>
                        </div>

                        <div class="service-hour-block">
                            <p class="service-hour-title">19:00–20:00 (4 слота)</p>
                            <div class="service-hour-slots">
                                <button type="button" class="session-btn" data-session="Индивидуальное парение • 19:00–19:15 • Слот 1">19:00–19:15</button>
                                <button type="button" class="session-btn" data-session="Индивидуальное парение • 19:15–19:30 • Слот 2">19:15–19:30</button>
                                <button type="button" class="session-btn" data-session="Индивидуальное парение • 19:30–19:45 • Слот 3">19:30–19:45</button>
                                <button type="button" class="session-btn" data-session="Индивидуальное парение • 19:45–20:00 • Слот 4">19:45–20:00</button>
                            </div>
                        </div>

                        <div class="service-hour-block">
                            <p class="service-hour-title">20:00–21:00 (4 слота)</p>
                            <div class="service-hour-slots">
                                <button type="button" class="session-btn" data-session="Индивидуальное парение • 20:00–20:15 • Слот 1">20:00–20:15</button>
                                <button type="button" class="session-btn" data-session="Индивидуальное парение • 20:15–20:30 • Слот 2">20:15–20:30</button>
                                <button type="button" class="session-btn" data-session="Индивидуальное парение • 20:30–20:45 • Слот 3">20:30–20:45</button>
                                <button type="button" class="session-btn" data-session="Индивидуальное парение • 20:45–21:00 • Слот 4">20:45–21:00</button>
                            </div>
                        </div>
                    `
                },
                bikefit: {
                    title: 'Байк-фит — подробности',
                    html: `<p>Быстрая настройка посадки и базовая корректировка велосипеда перед стартом. Проверяем высоту/смещение седла, положение руля и базовую эргономику для длительной дистанции.</p>`
                },
                dinner: {
                    title: 'Ужин — подробности',
                    html: `
                        <p><strong>Горячий ужин в кемпе промфиниша</strong> после первого соревновательного дня.</p>
                        <p><strong>Что входит в ужин:</strong></p>
                        <ul>
                            <li>Горячее блюдо (мясо/птица или вегетарианская опция).</li>
                            <li>Гарнир и овощной салат.</li>
                            <li>Чай/морс и лёгкий десерт.</li>
                        </ul>
                        <p><strong>Выберите слот ужина:</strong></p>
                        <ul>
                            <li><button type="button" class="session-btn" data-session="Ужин • 19:00–19:30">19:00 – 19:30</button></li>
                            <li><button type="button" class="session-btn" data-session="Ужин • 19:30–20:00">19:30 – 20:00</button></li>
                            <li><button type="button" class="session-btn" data-session="Ужин • 20:00–20:30">20:00 – 20:30</button></li>
                        </ul>
                    `
                },
                breakfast: {
                    title: 'Завтрак — подробности',
                    html: `
                        <p><strong>Сытный завтрак перед стартом второго дня</strong> с учётом раннего выезда на этап.</p>
                        <p><strong>Что входит в завтрак:</strong></p>
                        <ul>
                            <li>Каша/омлет на выбор.</li>
                            <li>Сырники или сэндвич.</li>
                            <li>Чай/кофе и вода.</li>
                        </ul>
                        <p><strong>Выберите слот завтрака:</strong></p>
                        <ul>
                            <li><button type="button" class="session-btn" data-session="Завтрак • 07:00–07:30">07:00 – 07:30</button></li>
                            <li><button type="button" class="session-btn" data-session="Завтрак • 07:30–08:00">07:30 – 08:00</button></li>
                            <li><button type="button" class="session-btn" data-session="Завтрак • 08:00–08:30">08:00 – 08:30</button></li>
                        </ul>
                    `
                },
                samovar: {
                    title: 'Самоварная — подробности',
                    html: `<p>Чайная зона с самоваром и перекусом для участников и гостей лагеря. Место для отдыха, общения и мягкого восстановления между активностями.</p>`
                }
            };

            const openModal = (serviceKey) => {
                const detail = details[serviceKey];
                if (!detail) return;
                currentServiceKey = serviceKey;
                modalTitle.textContent = detail.title;
                modalBody.innerHTML = detail.html;
                resetSessionSelection();
                modal.classList.add('open');
                modal.setAttribute('aria-hidden', 'false');
                document.body.style.overflow = 'hidden';
            };

            const closeModal = () => {
                modal.classList.remove('open');
                modal.setAttribute('aria-hidden', 'true');
                document.body.style.overflow = '';
            };

            cards.forEach(card => {
                const serviceKey = card.getAttribute('data-service');
                card.addEventListener('click', () => openModal(serviceKey));
                card.addEventListener('keydown', (event) => {
                    if (event.key === 'Enter' || event.key === ' ') {
                        event.preventDefault();
                        openModal(serviceKey);
                    }
                });
            });

            modalBody.addEventListener('click', (event) => {
                const btn = event.target.closest('.session-btn');
                if (!btn) return;

                const value = btn.getAttribute('data-session') || btn.textContent.trim();

                if (currentServiceKey === 'mobiba') {
                    btn.classList.toggle('active');
                    selectedSessions = Array.from(modalBody.querySelectorAll('.session-btn.active'))
                        .map(el => el.getAttribute('data-session') || el.textContent.trim());
                } else {
                    modalBody.querySelectorAll('.session-btn.active').forEach(el => el.classList.remove('active'));
                    btn.classList.add('active');
                    selectedSessions = [value];
                }

                syncSessionPanel();
            });

            serviceSessionApply.addEventListener('click', () => {
                if (selectedSessions.length === 0) return;
                const list = selectedSessions.map(item => `• ${item}`).join('\n');
                alert(`Вы выбрали сеансы:\n${list}\n\nОкончательная запись подтверждается у администратора зоны релакса.`);
            });

            closeBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', (event) => {
                if (event.target === modal) closeModal();
            });
            document.addEventListener('keydown', (event) => {
                if (event.key === 'Escape' && modal.classList.contains('open')) {
                    closeModal();
                }
            });
        }

        function initExpandableCards() {
            const cards = document.querySelectorAll('.expandable-card');
            
            // Динамические данные (в реальном проекте будут загружаться с сервера)
            const dynamicData = {
                registered: Math.floor(Math.random() * 80) + 40, // 40-120 участников
                finishers: 87, // Финишеров прошлого года
                spots: 150
            };

            // Обновляем динамические данные
            document.querySelectorAll('[data-dynamic]').forEach(el => {
                const key = el.getAttribute('data-dynamic');
                if (dynamicData[key] !== undefined) {
                    el.textContent = dynamicData[key];
                }
            });

            // Анимация прогресс-баров при наведении
            cards.forEach(card => {
                const cardType = card.getAttribute('data-card');
                const progressBar = card.querySelector(`[data-progress="${cardType}"]`);
                const progressValue = card.querySelector(`[data-value="${cardType}"]`);

                if (progressBar && progressValue) {
                    let targetWidth = 0;
                    
                    switch(cardType) {
                        case 'route':
                            targetWidth = 95;
                            break;
                        case 'participants':
                            targetWidth = Math.round((dynamicData.registered / dynamicData.spots) * 100);
                            break;
                    }

                    card.addEventListener('mouseenter', () => {
                        setTimeout(() => {
                            progressBar.style.width = targetWidth + '%';
                            if (progressValue) {
                                progressValue.textContent = targetWidth + '%';
                            }
                        }, 200);
                    });

                    card.addEventListener('mouseleave', () => {
                        progressBar.style.width = '0%';
                        if (progressValue) {
                            progressValue.textContent = '0%';
                        }
                    });
                }

                // Добавляем эффект пульсации для иконки
                const icon = card.querySelector('.card-icon');
                if (icon) {
                    card.addEventListener('mouseenter', () => {
                        icon.style.animation = 'pulse 1s ease-in-out infinite';
                    });
                    card.addEventListener('mouseleave', () => {
                        icon.style.animation = 'none';
                    });
                }
            });

            // Добавляем CSS анимацию пульсации
            const style = document.createElement('style');
            style.textContent = `
                @keyframes pulse {
                    0%, 100% { transform: scale(1); }
                    50% { transform: scale(1.05); }
                }
            `;
            document.head.appendChild(style);

            // Intersection Observer для анимации появления при скролле
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, { threshold: 0.1 });

            cards.forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(30px)';
                card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(card);
            });
        }

        // 5. Обновление данных в реальном времени (симуляция)
        setInterval(() => {
            const registeredEl = document.querySelector('[data-dynamic="registered"]');
            const spotsEl = document.querySelector('[data-dynamic="spots"]');
            
            if (registeredEl && spotsEl) {
                const current = parseInt(registeredEl.textContent);
                const spots = parseInt(spotsEl.textContent);
                
                // Случайное изменение количества участников
                if (Math.random() > 0.7 && current < spots) {
                    registeredEl.textContent = current + 1;
                    spotsEl.textContent = spots - 1;
                }
            }
        }, 5000); // Обновление каждые 5 секунд
    </script>
</body>
</html>
